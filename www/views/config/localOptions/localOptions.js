var localOptionsVariables={selectType:0};function onLoad(){initDot();setTitle(lang.localOptions);$("#videoBlock").isPlayer({isHidePlugin:true});$(".J-browse").on("click",function(){var a=$(this).attr("data-type");getPath(a)});$(".J-local-options-save").on("click",function(){onSaveLocalOptions()});setConf("isHidePlugin",true);initLocalOptions();(!isIE()&&!isFirefox())&&loading(true)}function onUnload(){setConf("isHidePlugin",false)}function initLocalOptions(){var player=$("#videoBlock");if(isIE()){player.isPlayer("initVideoWindow",getDeviceValue());var rtJson=player.isPlayer("getLocalOptions");rtJson=eval("({"+rtJson+"})");$('input[name="agreementType"][value="'+rtJson.Protocol+'"]').attr("checked","checked");$('input[name="pf"][value="'+rtJson.LiveViewPerformance+'"]').attr("checked","checked");$('input[name="cpType"][value="'+rtJson.ImageFormat+'"]').attr("checked","checked");$('input[name="zipType"][value="'+rtJson.RecordSize+'"]').attr("checked","checked");$(".J-down-path").val(rtJson.RecordWebDisk);$(".J-replay-path").val(rtJson.DownloadFileWebPath);$(".J-preview-path").val(rtJson.CaptureWebPath);$(".J-playback-path").val(rtJson.CapturePlaybackWebPath);$(".J-clip-path").val(rtJson.ClipsWebPath);$(".J-log-path").val(rtJson.LogSavaPath)}else{var path=getConf("localConfig");if(!path){return $(".J-plugin-link").show()}$(".J-down-path").val(path.recordFilePath);$(".J-replay-path").val(path.downloadFilePath);$(".J-preview-path").val(path.captureLivePath);$(".J-playback-path").val(path.capturePlaybackPath);$(".J-clip-path").val(path.clipsPlaybackPath)}}function getPath(b){var a=$("#videoBlock");localOptionsVariables.selectType=b;if(isIE()){var c=a.isPlayer("brwoseFolder");c!=""&&$(".J-"+b).val(c)}else{isMiddleware()&&a.isPlayer("browseFilePath")}}function onSetPath(a,b){switch(a){case"path":b&&$(".J-"+localOptionsVariables.selectType).val(b);break;case"result":b==0?rightPopup(lang.saved):rightPopup(lang.savedfail);break}}function onSaveLocalOptions(){var d=isIE()?"\\\\":"\\";var g=$(".J-down-path").val().replace(/\\/g,d);var b=$(".J-replay-path").val().replace(/\\/g,d);var c=$(".J-preview-path").val().replace(/\\/g,d);var f=$(".J-playback-path").val().replace(/\\/g,d);var j=$(".J-clip-path").val().replace(/\\/g,d);var a=$(".J-log-path").val().replace(/\\/g,d);var h=$("#videoBlock");if(isMiddleware()||isIE()){var i=h.isPlayer("savePath",g,c,b,f,j,a);var e=i?lang.saved:lang.savedfail;rightPopup(e)}};