var q=function(u){function t(e){e=-32768==e?-32767:e;var f=~e>>8&128;f||(e*=-1);32635<e&&(e=32635);if(256<=e){var d=j[e>>8&127];e=d<<4|e>>d+3&15}else{e>>=4}return e^f^85}function s(e){var f=0;e^=85;e&128&&(e&=-129,f=-1);var d=((e&240)>>4)+4;e=4!=d?1<<d|(e&15)<<d-4|1<<d-5:e<<1|1;return -8*(0===f?e:-e)}function r(e){var f=e>>8&128;0!=f&&(e=-e);32635<e&&(e=32635);e+=132;var d=i[e>>7&255];return ~(f|d<<4|e>>d+3&15)}function o(d){d=~d;var e=d>>4&7;e=c[e]+((d&15)<<e+3);0!=(d&128)&&(e=-e);return e}var j=[1,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],b=Object.freeze({encodeSample:t,decodeSample:s,encode:function(e){for(var f=new Uint8Array(e.length),d=0;d<e.length;d++){f[d]=t(e[d])}return f},decode:function(e){for(var f=new Int16Array(e.length),d=0;d<e.length;d++){f[d]=s(e[d])}return f}}),i=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],c=[0,132,396,924,1980,4092,8316,16764],a=Object.freeze({encodeSample:r,decodeSample:o,encode:function(e){for(var f=new Uint8Array(e.length),d=0;d<e.length;d++){f[d]=r(e[d])}return f},decode:function(e){for(var f=new Int16Array(e.length),d=0;d<e.length;d++){f[d]=o(e[d])}return f}});u.alaw=b;u.mulaw=a;return u}({});window.alawmulaw=q;function getAudioObj(){if(typeof window.AudioContext!=="undefined"){console.log("AudioContext");return new window.AudioContext()}else{if(typeof webkitAudioContext!=="undefined"){console.log("webkitAudioContext");return new window.webkitAudioContext()}else{if(typeof window.mozAudioContext!=="undefined"){console.log("mozAudioContext");return new window.mozAudioContext()}else{console.log("NONE OF THEM!");return undefined}}}}var bitdogAudio={init:function(){this.context||(this.context=getAudioObj());this.audioStack=[];this.nextTime=0},pcm2wav:function(h,l,a,d){l||(l=8000);a||(a=16);d||(d=1);var b=h.byteLength;var f=new ArrayBuffer(44+b);var i=new DataView(f);function j(m,p,n){for(var o=0;o<n.length;o++){m.setUint8(p+o,n.charCodeAt(o))}}var e=0;j(i,e,"RIFF");e+=4;i.setUint32(e,36+b,true);e+=4;j(i,e,"WAVE");e+=4;j(i,e,"fmt ");e+=4;i.setUint32(e,16,true);e+=4;i.setUint16(e,1,true);e+=2;i.setUint16(e,d,true);e+=2;i.setUint32(e,l,true);e+=4;i.setUint32(e,l*d*(a/8),true);e+=4;i.setUint16(e,d*(a/8),true);e+=2;i.setUint16(e,a,true);e+=2;j(i,e,"data");e+=4;i.setUint32(e,b,true);e+=4;function k(n,p,m){m=new Int32Array(m);for(var o=0;o<m.length;o++,p+=4){n.setInt32(p,m[o],true)}}function g(n,p,m){m=new Int16Array(m);for(var o=0;o<m.length;o++,p+=2){n.setInt16(p,m[o],true)}}function c(n,p,m){m=new Int8Array(m);for(var o=0;o<m.length;o++,p++){n.setInt8(p,m[o],true)}}if(a==16){g(i,44,h)}else{if(a==8){c(i,44,h)}else{k(i,44,h)}}return i.buffer},scheduleBuffers:function(){var b=this;if(!this.context){this.audioStack=[]}while(this.audioStack.length){var a=this.audioStack.shift();var c=this.context.createBufferSource();c.buffer=a;c.connect(this.context.destination);if(this.nextTime==0){this.nextTime=this.context.currentTime+0.01}c.onended=function(){b.scheduleBuffers()};c.start(this.nextTime);this.nextTime+=c.buffer.duration}},destory:function(){this.audioStack=[];delete this.context}};