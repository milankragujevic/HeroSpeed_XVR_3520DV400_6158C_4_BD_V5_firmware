function FileInfo(d,m,f,j,g,l,a,k){this.h=j;this.c=l;this.t=g;this.bt=a;this.et=k;this.x=d;this.s=0;this.b=0;this.m_y=m;this.w=f;FileInfo.prototype.IR=function(b,c){if((this.x+this.w)<=b||this.x>=c){return false}else{return true}};FileInfo.prototype.SP=function(b,n,c,e){this.m_y=n;this.h=e;this.x=b;this.w=c};FileInfo.prototype.PR=function(e,c){this.s=e;this.b=c};FileInfo.prototype.D=function(b){if(this.IR(this.s,this.b)){var c=b.fillStyle;b.fillStyle=this.c;if((this.x>=this.s)&&(this.x+this.w)<=this.b){b.fillRect(this.x,this.m_y,this.w,this.h)}else{if((this.x<this.b)&&((this.x+this.w)>this.b)){b.fillRect(this.x,this.m_y,this.b-this.x,this.h)}else{b.fillRect(this.s,this.m_y,(this.x+this.w)-this.s,this.h)}}b.fillStyle=c}}}function Timeinfo(){var a=new Date();this.min=a.getMinutes();this.s=a.getSeconds();this.ms=a.getTime();this.y=a.getFullYear();this.mon=a.getMonth()+1;this.d=a.getDate();this.h=a.getHours();Timeinfo.prototype.TS=function(b){var c=new Date(b);this.h=c.getHours();this.min=c.getMinutes();this.s=c.getSeconds();this.ms=b;this.y=c.getFullYear();this.mon=c.getMonth()+1;this.d=c.getDate()};Timeinfo.prototype.ST=function(){var k=""+this.y;var b;if(this.mon<10){b="0"+this.mon}else{b=""+this.mon}var f;if(this.h<10){f="0"+this.h}else{f=""+this.h}var c;if(this.min<10){c="0"+this.min}else{c=""+this.min}var j;if(this.d<10){j="0"+this.d}else{j=""+this.d}var e;if(this.s<10){e="0"+this.s}else{e=""+this.s}var g=k+"-"+b+"-"+j+" "+f+":"+c+":"+e;return g};Timeinfo.prototype.parseTime=function(c){var e=c.split(" ")[0].split("-");var b=c.split(" ")[1].split(":");this.h=parseInt(b[0],10);this.min=parseInt(b[1],10);this.s=parseInt(b[2],10);this.y=parseInt(e[0],10);this.mon=parseInt(e[1],10);this.d=parseInt(e[2],10);var b=new Date();b.setFullYear(this.y);b.setMonth(this.mon-1,this.d);b.setHours(this.h);b.setMinutes(this.min);b.setSeconds(this.s);this.ms=b.getTime()}}function KeduInfo(a,c,b){this.s=0;this.b=0;this.x=a;this.m_y=c;this.h=parseInt(b/3600,10);this.min=parseInt(b%3600/60,10);this.s=parseInt(b%3600%60,10);this.m_st="";if(this.h<10&&this.min<10){this.m_st="0"+this.h+":0"+this.min}else{if(this.h<10&&this.min>=10){this.m_st="0"+this.h+":"+this.min}else{if(this.h>=10&&this.min>=10){this.m_st=""+this.h+":"+this.min}else{this.m_st=""+this.h+":0"+this.min}}}KeduInfo.prototype.SP=function(d,e){if(d<this.s){d=this.b-(this.s-d)}else{if(d>this.b){d=this.s+(d-this.b)}}this.x=d;this.m_y=e};KeduInfo.prototype.PR=function(e,d){this.s=e;this.b=d};KeduInfo.prototype.IR=function(e,d){if(this.x>=e&&this.x<=d){return true}else{return false}};KeduInfo.prototype.update=function(d){this.h=parseInt(d/3600,10);this.min=parseInt(d%3600/60,10);this.s=parseInt(d%3600%60,10);if(this.h<10&&this.min<10){this.m_st="0"+this.h+":0"+this.min}else{if(this.h<10&&this.min>=10){this.m_st="0"+this.h+":"+this.min}else{if(this.h>=10&&this.min>=10){this.m_st=""+this.h+":"+this.min}else{this.m_st=""+this.h+":0"+this.min}}}}}var B=function(d,c){var b=Array.prototype.slice.call(arguments).slice(2);return function(a){return c.apply(d,[a||window.event].concat(b))}};var BI=function(b,a){return function(){return a.apply(b,arguments)}};var A=function(c,a,b){c["on"+a]=b};var R=function(c,a,b){c["on"+a]=null};var Rdoc=function(b,a){b["on"+a]=null;window.top.document["on"+a]=null};function L(b){var a=b.offsetLeft;while(b=b.offsetParent){a+=b.offsetLeft}return a}function TO(a){var b=a.offsetTop;while(a=a.offsetParent){b+=a.offsetTop}return b}function T(e,a,d){e.width=a;e.height=d;this.m_tc=e;this.m_ct=e.getContext("2d");this.m_iMinW=1;this.bdc="rgb(10, 10,10)";this.plc="rgb(70,70,70)";this.cnc="rgb(160, 160, 160)";this.tsc="rgb(160, 160, 160)";this.mlc="rgb(250, 210, 0)";this.mltc="rgb(251, 251, 251)";this.mtf="12px Arial";this.ctf="12px Arial";this.fsf="12px Arial";this.fcf="12px Arial";this.color="";e.style.backgroundColor=this.bdc;this.ct=parseFloat(1);this.KeduInfo=new Array();this.KeduInfoNum=ParseInt(24/this.ct,10);this.KI=12;for(var c=0;c<this.KeduInfoNum;c++){this.KeduInfo.push(new KeduInfo(0,0,ParseInt(c*3600*this.ct)))}this.max=4;this.m_nSelWnd=0;this.FI=new Array(this.max);for(c=0;c<this.max;c++){this.FI[c]=new Array()}this.h=ParseInt(e.height,10);this.w=ParseInt(e.width,10);this.a=0;this.b=4;this.c=40;this.d=this.h-this.c-this.b*2;this.e=ParseInt((this.a+this.w)/2,10);this.f=Math.floor((this.w-this.a)/this.KI);this.i=ParseInt((3600*this.ct*1000)/this.f,10);this.j=new Timeinfo();this.m_ct.font=this.mtf;this.k=this.m_ct.measureText(this.j.ST()).width;this.l=new Timeinfo();this.m_ct.font=this.ctf;this.m=this.m_ct.measureText(this.l.ST()).width;this.n=L(this.m_tc);this.o=TO(this.m_tc);for(c=0;c<this.KeduInfoNum;c++){var f=(this.KeduInfo[c].h-this.j.h)*3600+(this.KeduInfo[c].min-this.j.min)*60+(this.KeduInfo[c].s-this.j.s);var b=this.e+ParseInt(parseFloat(f/(3600*this.ct))*this.f);this.KeduInfo[c].PR(this.a,this.a+ParseInt(this.f*this.KeduInfoNum));this.KeduInfo[c].SP(b,this.c)}this.p=0;this.q=0;this.r=false;this.s=false;this.t=0;this.u=0;this.v=function(g){this.p=g.clientX;this.u=this.j.ms;this.r=true;A(document,"mousemove",B(this,this.MV));A(document,"mouseup",BI(this,this.SP));A(window,"blur",B(this,B(this,this.SP)));A(parent.document,"mouseup",BI(this,this.SP));g.preventDefault();R(e,"mousemove",B(this,this.MM))};this.FC=function(){};this.SP=function(){document.body.style.cursor="default";this.r=false;this.FC();Rdoc(document,"mousemove",B(this,this.MV));Rdoc(document,"mouseup",B(this,this.SP));R(window,"blur",B(this,this.SP));A(e,"mousemove",B(this,this.MM))};this.MV=function(g){this.t=g.clientX-this.p;if(this.r){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty();this.j.TS(this.u-this.t*this.i);this.P()}};this.MM=function(g){this.q=g.clientX-this.n;this.l.TS((this.q-this.e)*this.i+this.j.ms);this.P();var h=this.l.ST();this.m_ct.fillStyle=this.mltc;this.m_ct.font=this.ctf;this.m_ct.fillText(h,(this.q-ParseInt(this.m/2)),ParseInt(this.c/4))};this.MO=function(g){this.P()};A(e,"mousedown",B(this,this.v));A(e,"mousemove",B(this,this.MM));A(e,"mouseout",B(this,this.MO));this.P()}T.prototype.P=function(){var b=this.j.ST();this.K();this.U();this.m_ct.clearRect(0,0,this.w,this.h);this.m_ct.fillStyle=this.mltc;this.m_ct.font=this.mtf;this.k=this.m_ct.measureText(b).width;this.m_ct.fillText(b,(this.e-ParseInt(this.k/2)),ParseInt(this.c/2)+5);this.m_ct.strokeStyle=this.plc;this.m_ct.lineWidth=1;this.m_ct.beginPath();this.m_ct.moveTo(this.a,this.c);this.m_ct.lineTo(this.a,this.h);this.m_ct.stroke();this.m_ct.lineWidth=this.b;this.m_ct.beginPath();this.m_ct.moveTo(0,this.c);this.m_ct.lineTo(this.w,this.c);this.m_ct.stroke();this.m_ct.beginPath();this.m_ct.moveTo(0,this.h-this.b/2);this.m_ct.lineTo(this.w,this.h-this.b/2);this.m_ct.stroke();this.m_ct.fillStyle=this.cnc;this.m_ct.font=this.fcf;this.m_ct.strokeStyle=this.tsc;this.m_ct.font=this.fsf;this.m_ct.lineWidth=1;for(var a=0;a<this.KeduInfoNum;a++){if(this.KeduInfo[a].IR(this.a,this.w)){this.m_ct.beginPath();this.m_ct.moveTo(this.KeduInfo[a].x,this.c);this.m_ct.lineTo(this.KeduInfo[a].x,this.h);this.m_ct.stroke();this.m_ct.fillText(this.KeduInfo[a].m_st,this.KeduInfo[a].x-15,this.c-5)}}for(var a=0;a<this.FI[this.m_nSelWnd].length;a++){this.FI[this.m_nSelWnd][a].D(this.m_ct)}this.m_ct.strokeStyle=this.mlc;this.m_ct.lineWidth=2;this.m_ct.beginPath();this.m_ct.moveTo(this.e,0);this.m_ct.lineTo(this.e,this.h);this.m_ct.stroke()};T.prototype.K=function(){if(this.KeduInfo.length==0){return}var d=(this.KeduInfo[0].h-this.j.h)*3600+(this.KeduInfo[0].min-this.j.min)*60+(this.KeduInfo[0].s-this.j.s);var e=this.e+ParseInt(parseFloat(d/(3600*this.ct))*this.f);if(e<this.KeduInfo[0].s){e=this.KeduInfo[0].b-(this.KeduInfo[0].s-e)}else{if(e>this.KeduInfo[0].b){e=this.KeduInfo[0].s+(e-this.KeduInfo[0].b)}}var a=e-this.KeduInfo[0].x;if(a==0){return}for(var c=0;c<this.KeduInfoNum;c++){var b=this.KeduInfo[c].x+a;this.KeduInfo[c].PR(this.a,this.a+ParseInt(this.f*this.KeduInfoNum));this.KeduInfo[c].SP(b,this.c)}};T.prototype.U=function(){var c=this.FI[this.m_nSelWnd].length;if(c==0){return}var k=this.FI[this.m_nSelWnd][0].bt;var p=ParseInt((k.ms-this.j.ms)/1000);var g=this.e+ParseInt(parseFloat(p/(3600*this.ct))*this.f);var a=g-this.FI[this.m_nSelWnd][0].x;if(a==0){return}for(var d=0;d<c;d++){var n=this.FI[this.m_nSelWnd][d].x+a;var j=this.FI[this.m_nSelWnd][d].m_y;var o=this.FI[this.m_nSelWnd][d].w;var e=this.FI[this.m_nSelWnd][d].h;this.FI[this.m_nSelWnd][d].SP(n,j,o,e)}};T.prototype.E=function(k,e){this.m_tc.height=e;this.m_tc.width=k;this.h=e;this.w=k;this.c=ParseInt(this.h*4/7);this.d=this.h-this.c-this.b*2;this.e=ParseInt((this.a+this.w)/2);this.f=Math.floor((this.w-this.a)/this.KI);this.i=ParseInt((3600*this.ct*1000)/this.f,10);for(i=0;i<this.KeduInfoNum;i++){var l=(this.KeduInfo[i].h-this.j.h)*3600+(this.KeduInfo[i].min-this.j.min)*60+(this.KeduInfo[i].s-this.j.s);var a=this.e+ParseInt(parseFloat(l/(3600*this.ct))*this.f);this.KeduInfo[i].PR(this.a,this.a+ParseInt(this.f*this.KeduInfoNum));this.KeduInfo[i].SP(a,this.c)}for(i=0;i<this.FI[this.m_nSelWnd].length;i++){var j=this.FI[this.m_nSelWnd][i];var d=ParseInt((j.bt.ms-this.j.ms)/1000);var g=this.e+ParseInt(parseFloat(d/(3600*this.ct))*this.f);var c=ParseInt((j.et.ms-this.j.ms)/1000);var b=this.e+ParseInt(parseFloat(c/(3600*this.ct))*this.f);if((b-g)<this.m_iMinW){b=g+this.m_iMinW}j.SP(g,this.c+ParseInt(this.b/2),b-g,this.d+2)}this.P()};T.prototype.S=function(j){switch(j){case 6:this.KI=12;this.ct=parseFloat(2);break;case 7:this.KI=12;this.ct=parseFloat(1);break;case 8:this.KI=12;this.ct=parseFloat(0.5);break;case 9:this.KI=8;this.ct=parseFloat(0.5);break;case 10:this.KI=12;this.ct=parseFloat(1/6);break;case 11:this.KI=12;this.ct=parseFloat(1/12);break;case 12:this.KI=6;this.ct=parseFloat(1/12);break;default:this.KI=12;this.ct=parseFloat(1);return}this.KeduInfoNum=ParseInt(24/this.ct,10);this.f=Math.floor((this.w-this.a)/this.KI);this.i=ParseInt((3600*this.ct*1000)/this.f,10);this.KeduInfo.length=0;for(var d=0;d<this.KeduInfoNum;d++){this.KeduInfo.push(new KeduInfo(0,0,ParseInt(d*3600*this.ct)))}for(d=0;d<this.KeduInfoNum;d++){var k=(this.KeduInfo[d].h-this.j.h)*3600+(this.KeduInfo[d].min-this.j.min)*60+(this.KeduInfo[d].s-this.j.s);var a=this.e+ParseInt(parseFloat(k/(3600*this.ct))*this.f);this.KeduInfo[d].PR(this.a,this.a+ParseInt(this.f*this.KeduInfoNum));this.KeduInfo[d].SP(a,this.c)}for(d=0;d<this.FI[this.m_nSelWnd].length;d++){var h=this.FI[this.m_nSelWnd][d];var e=ParseInt((h.bt.ms-this.j.ms)/1000);var g=this.e+ParseInt(parseFloat(e/(3600*this.ct))*this.f);var c=ParseInt((h.et.ms-this.j.ms)/1000);var b=this.e+ParseInt(parseFloat(c/(3600*this.ct))*this.f);if((b-g)<this.m_iMinW){b=g+this.m_iMinW}h.SP(g,this.c+ParseInt(this.b/2),b-g,this.d+2)}this.P()};T.prototype.F=function(g,c,m){var l=new Timeinfo();var k=new Timeinfo();l.parseTime(g);k.parseTime(c);var f=ParseInt((l.ms-this.j.ms)/1000);var j=this.e+ParseInt(parseFloat(f/(3600*this.ct))*this.f);var d=ParseInt((k.ms-this.j.ms)/1000);var a=this.e+ParseInt(parseFloat(d/(3600*this.ct))*this.f);var h=new FileInfo(j,this.c+ParseInt(this.b/2),a-j,this.d+2,m,this.color,l,k);h.PR(this.a,this.a+ParseInt(this.f*this.KeduInfoNum));if(arguments.length>=4){this.FI[arguments[3]].push(h)}else{this.FI[this.m_nSelWnd].push(h)}};T.prototype.L=function(){var a;if(arguments.length==0){a=this.m_nSelWnd}else{a=arguments[0]}if(a<0){a=0}if(a>=4){a=4}this.FI[a].length=0};T.prototype.M=function(a){var b=new Timeinfo();b.parseTime(a);this.j.TS(b.ms);this.P()};T.prototype.C=function(a){this.FC=a};T.prototype.COLOR=function(a){this.color=a};